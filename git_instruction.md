# **Инструкция по работе с git**

Инструкция для самопомощи при работе с контролем версий.

![Логотип git.](git-image.png)

## **Создание репозитория**

Для создания репозитория ("инициализации") нужно ввести в терминале команду: 

    git init

Команда включает отслеживание файлов в текущей папке.

## **Создание коммитов**

Включение отслеживания файла:

    git add <Имя файла с расширением>

Можно набрать первые несколько символов имени и нажать на Tab - программа введет остальное.

### **Фиксация изменений (коммиты)**

После внесения каких-либо изменений в файл надо, находясь в тексте файла (а не в терминале) нажать Ctrl+S, после чего ввести в терминале команду:

    git add <Имя файла с расширением>

(Если не нажать Ctrl+S, git не увидит, что файл изменен.)
После этого нужно написать заметку о сделанных изменениях:

    git commit -m "Текст заметки (лучше на английском)" (m = message)

Таким образом нужно фиксировать поэтапно все изменения.
В программировании **git add** и **git commit** обычно используются для фиксации кусков готового кода. Таким образом добавляется "версионность", т.е. каждый новый коммит сохраняет состояние файла как очередную версию.

### **Просмотр состояния**

Чтобы увидеть текущее состояние файлов данной папки, надо ввести команду:

    git status

Файлы, сохраненные с помощью Ctrl+S, но не сохраненные командой **git add**, красного цвета, сохраненные - зеленого.

### **Работа с версиями файла**

Вывод списка всех изменений, команда выводит имена/номера всех коммитов с описаниями:

    git log

Вывод того же списка вкратце (только сокращенные имена и описания):

    git log --oneline

**HEAD** - указывает на версию файла, где мы сейчас находимся.

**HEAD -> master** означает, что мы находимся в ветке с последней версией файла.

Если файл соединен с удаленным репозиторием на GitHub, то ветка **master** изменит название на **main**.

Для перехода к определенной версии файла:

    git checkout <первые 4-5 символов имени коммита>
      
    Данная команда перемещает ветку HEAD в указанный коммит. Мы увидим состояние файла до сделанных после этого изменений.

Для возврата к самой последней версии файла - команда:

    git checkout master

Чтобы увидеть разницу между текущим состоянием файла и тем, которое зафиксировано:

    git diff

Сравнение разных предыдущих зафиксированных состояний файла:

    git diff <номера коммитов через пробел>

## **Работа с изображениями**

Добавление картинок в файл:
    
    ![Альтернативный текст, который виден, если картинка не грузится](Имя файла картинки)

Фотографии и другие большие файлы (например, для скачивания) не принято добавлять в git для отслеживания, поэтому дается установка их игнорировать.

## **Игнорирование файлов**

Чтобы исключить файлы из отслеживания, надо создать и добавить в git специальный файл с именем ".gitignore".
В этот файл записываются имена файлов (с расширением), которые не нужно отслеживать. После сохранения файла ".gitignore" записанные в нем файлы игнорируются.

## **Работа с ветками**

Ветки позволяют управлять черновиками и чистовиками файлов. С их помощью можно создавать отдельные части файла, менять их независимо от остальных частей, а после завершения сливать с основным текстом.

### **Создание ветки**

Для создания новой ветки используется команда:

    git branch <имя ветки>

Для перехода на ветку используется команда:

    git checkout <имя ветки>

Для возврата в основную версию файла - команда:

    git checkout master/main

Чтобы увидеть, на какой ветке находишься, можно дать команду **git status**.

### **Слияние веток**

Когда ветка полностью готова, ее можно влить в основной файл командой:

    git merge <имя ветки>

Слияние происходит в ту ветку, из которой дается команда. Слитая ветка при этом остается также и в отдельном виде.

### **Удаление веток**

Если слитая ветка больше не нужна, можно ее удалить командой: 

    git branch -d <имя ветки>

### **Просмотр списка веток**

Чтобы увидеть список всех веток - команда:

    git branch
    При этом * и зеленый цвет отмечает ветку, на которой мы в данный момент находимся.

Чтобы увидеть список изменений и схему всех веток - команда:

    git log --graph
или списком вкратце:

    git log --all --oneline --graph

## **Работа с удаленными репозиториями на GitHub**

## **Внутренние команды терминала**

**q** - возврат в режим ввода команд из режима просмотра логов.

**clear** - очистка окна терминала.

## **Полезные приемы**

**Стрелка вверх** на клавиатуре выводит список предыдущих команд в терминале, из которого можно выбрать, чтобы не вводить заново.
